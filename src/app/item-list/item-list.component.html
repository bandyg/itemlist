<div class="item-list-container">
  <h3>Shopping Cart Items</h3>
  <div 
    cdkDropList 
    (cdkDropListDropped)="drop($event)"
    class="item-list"
  >
    <div 
      *ngFor="let item of cartItems; let i = index; trackBy: trackByItemName"
      cdkDrag
      class="item-card"
    >
      <div class="drag-handle" cdkDragHandle>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M9 3h2v2H9V3zm0 4h2v2H9V7zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm0 4h2v2H9v-2zm4-16h2v2h-2V3zm0 4h2v2h-2V7zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2zm0 4h2v2h-2v-2z"/>
        </svg>
      </div>
      <div class="item-content">
        <h4>{{ item.name }}</h4>
        <p class="price">{{ item.price | currency }}</p>
        <div class="quantity-controls">
          <button (click)="decreaseQuantity(item.name)" [disabled]="item.quantity <= 1">-</button>
          <span class="quantity">{{ item.quantity }}</span>
          <button (click)="increaseQuantity(item.name)">+</button>
        </div>
      </div>
      <div class="item-actions">
        <button class="move-btn" (click)="moveItemUp(i)" [disabled]="i === 0" title="Move Up">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
          </svg>
        </button>
        <button class="move-btn" (click)="moveItemDown(i)" [disabled]="i === cartItems.length - 1" title="Move Down">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6z"/>
          </svg>
        </button>
        <button class="remove-btn" (click)="removeItem(item.name)" title="Remove Item">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
  <div *ngIf="cartItems.length === 0" class="empty-cart">
    <p>Your cart is empty. Add some items from the product list!</p>
  </div>
</div>